<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body {
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
  background-image: url(./images/bgg.jpg);
  background-size: cover;
}

.navbar {
  width: 100%;
  background-color: transparent;
  overflow: auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
}

.navbar a {
  margin-top: 20px;
  margin-left: 30px;
  margin-right: 30px;
  padding: 12px;
  color: rgb(255, 255, 255);
  text-decoration: none;
  font-size: 17px;
  display: block;
  position: relative;
}

.navbar a::after {
  content: '';
  display: block;
  height: 2px;
  background: transparent;
  transition: width 0.3s ease, background-color 0.3s ease;
  width: 0;
  position: absolute;
  bottom: 0;
  left: 0;
}

.navbar a:hover::after {
  width: 100%;
  background: white;
}

.navbar .search {
  margin-left: auto;
  position: relative;
}

.search-bar {
  display: none;
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  border: none;
  padding: 5px;
  border-radius: 4px;
  outline: none;
  width: 0;
  transition: width 0.4s ease-in-out, opacity 0.4s ease-in-out;
  opacity: 0;
}

.search-bar.active {
  display: block;
  width: 200px;
  opacity: 1;
}

.search-icon {
  cursor: pointer;
  transition: opacity 0.4s ease-in-out;
}

.search-icon.hidden {
  opacity: 0;
}

@media screen and (max-width: 500px) {
  .navbar {
    flex-direction: column;
  }
  .navbar a {
    text-align: center;
  }
  .search-bar.active {
    width: 100%;
  }
}
</style>
<body>

<div class="navbar">
  <a class="active" href="#"><i class="fa fa-fw fa-home"></i> Home</a> 
  <a href="#"><i class="fa fa-fw fa-envelope"></i> Contact</a> 
  <a href="#"><i class="fa fa-fw fa-user"></i> Login</a>
  <div class="search">
    <i class="fa fa-fw fa-search search-icon" onclick="toggleSearchBar()"></i>
    <input type="text" class="search-bar" id="searchBar" placeholder="Search...">
  </div>
</div>

<script>
function toggleSearchBar() {
  var searchBar = document.getElementById('searchBar');
  var searchIcon = document.querySelector('.search-icon');
  
  if (searchBar.classList.contains('active')) {
    searchBar.classList.remove('active');
    setTimeout(function() {
      searchBar.style.display = 'none';
      searchIcon.classList.remove('hidden');
    }, 400); // Match this time with the transition duration
  } else {
    searchBar.style.display = 'block';
    setTimeout(function() {
      searchBar.classList.add('active');
    }, 10); // Small delay to trigger the transition
    searchIcon.classList.add('hidden');
    setTimeout(function() {
      searchIcon.style.display = 'none';
    }, 400); // Hide the icon completely after the transition
  }
}
</script>

</body>
</html>
